# DNDT Coding Task

In this repository, the folders are structured to **Controllers**, **Models**, **Tests**, **Images**, and **Comments**.

The API routes are stored in the **Controllers**. There are six routes: 

- **POST** /image/upload
- **GET** /image/{id}
- **PATCH** /image/info/{id}
- **GET** /image/info/{id}
- **GET** /image
- **GET** /image/info

Moving on, we have the **Models** folder, where the Image Model is stored.

The Unit Tests are stored in the **Tests** folder.

Lastly, **Images** and **Comments** are data generated by the API routes.


# Structuring
For this assignment, I chose to use a directory to store the Images, Id, Names and Comments.

When an image is uploaded using the **POST** route, I store the image in the Image folder and comments in the Comments folder. The naming sense I chose to use was:<br />

**id_nameOfPic.ext.**

It is separated by an underscore to distinguish the id and name.

For example, a user uploads an image, my API would download it and store the image and comments as follows:

- Image folder
  - 777b95ab-d1c4-431c-87bf-db01c49e78c8_dogpic.jpg
- Comment folder
  - 777b95ab-d1c4-431c-87bf-db01c49e78c8_dogpic.txt
  
# Tradeoff
The reason I chose to use a directory was because it is <ins>simple</ins> and relatively <ins>fast</ins>. Using a database to store an image will greatly 
increase the amount of steps to get to the image, which will be <ins>slower</ins> to download. Moreover, it uses more server resources, which isn't ideal.

Ultimately, it came down to JSON and files for storage. I went with files because files are more suitable to store images with and it's easier to manipulate the binary data
of the file.

There are some disadvantages with files, where there will be problems storing all the images in one directory. As the web API scales, we will be hitting the limits of 
the network and slow the API down.

However, I still went with files knowing the scope of this task and that there won't be as many users to slow down the API.

# Routes
## POST /image/upload
Moving on, I'll be showing what the routes do.

For the **POST** /image/upload route, it takes in form-data from the body:

- image
- name
- comment

We will be uploading a zebra picture I found online. It will then return an ID for the image and a message indicating the route's status.
<br />  



![img1](https://user-images.githubusercontent.com/65803097/216918895-0f28c279-6d7b-4857-aefb-66b33911c01a.png)

## GET /image/{id}

For the **GET** /image/{id} route, it takes in an id from the url. We will be using the id that we got from above.

After calling the **GET** route, we will be getting a zebra picture as follows:
<br />  



![img2](https://user-images.githubusercontent.com/65803097/216920314-5a15775a-3906-4c8d-80b7-d6ae5fb54c9b.png)

## PATCH /image/info/{id}

For the **PATCH** /image/info/{id} route, it takes in an id from the url, and a comment from the form-data in the body:

- comment

We are once again using the zebra picture id, and a comment indicating that it is a modified comment. After calling the **PATCH** route, it will then return
a message indicating the comment has been modified as follows:
<br />  


![img3](https://user-images.githubusercontent.com/65803097/216920319-a7d1fbeb-8255-466d-8fcb-ae866ea115bc.png)

## GET /image/info/{id}

For the **GET** /image/info/{id} route, it takes in an id from the url.

After inputting the zebra picture id, we will be greeted by a comment and the image's info below:
<br />  

![img4](https://user-images.githubusercontent.com/65803097/216920330-637578e3-7bd1-424f-9cc0-96b8fb7ce946.png)

## GET /image

For the **GET** /image route, it returns all the images in the **Image** directory

It will return the result below when the API is called:
<br />  

![img5](https://user-images.githubusercontent.com/65803097/216920335-9d4e6bc0-9bd9-4d6c-b442-aa92ceef07d6.png)

## GET /image/info

Lastly, to get all the information about the images, we will call this API which will get all the information in the **Image** directory.

When the API is called, it will return a list of dictionaries indicating the information of the images:
<br />  
![img6](https://user-images.githubusercontent.com/65803097/216920342-162528b1-2326-4c53-a9ce-5db8b150118f.png)






  
 
